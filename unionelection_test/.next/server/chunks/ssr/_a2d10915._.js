module.exports=[43108,a=>{"use strict";let b=(0,a.i(70106).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],81560)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},69285,a=>{"use strict";let b=(0,a.i(70106).default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);a.s(["Unlock",()=>b],69285)},86275,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(81560),f=a.i(43108),g=a.i(69285);function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=localStorage.getItem("election_posts"),b=localStorage.getItem("election_posts_isLocked"),c=JSON.parse(localStorage.getItem("nominalRoll_students")||"[]"),d=new Set;c.forEach(a=>{a.dept&&"-"!==a.dept&&d.add(a.dept)});let e=Array.from(d).sort();if(console.log(`Debug: Found ${c.length} students. Extracted Depts:`,e),j(e),"true"===b&&l(!0),a)h(JSON.parse(a));else{let a=[{id:"1",name:"The Chairperson",vacancy:1,gender:"Any",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"},{id:"2",name:"The Vice Chairperson",vacancy:1,gender:"Female",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"},{id:"3",name:"The General Secretary",vacancy:1,gender:"Any",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"}];h(a),localStorage.setItem("election_posts",JSON.stringify(a))}n(!0)},[]),(0,c.useEffect)(()=>{m&&(a.length>0&&localStorage.setItem("election_posts",JSON.stringify(a)),localStorage.setItem("election_posts_isLocked",String(k)))},[a,k,m]);let[o,p]=(0,c.useState)({name:"",vacancy:1,gender:"Any",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"});return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("header",{className:"flex justify-between items-center bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Election Posts"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Define positions and eligibility logic"})]}),(0,b.jsx)("button",{onClick:()=>l(!k),className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold text-sm transition-colors ${k?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Lock,{size:16})," Locked (Published)"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Unlock,{size:16})," Draft Mode"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-6",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4 border-b pb-2",children:"Add New Post"}),(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),k||o.name&&(h([...a,{...o,id:Date.now().toString()}]),p({name:"",vacancy:1,gender:"Any",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"}))},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Position Name"}),(0,b.jsx)("input",{type:"text",value:o.name,onChange:a=>p({...o,name:a.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Arts Club Secretary",required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Vacancies"}),(0,b.jsx)("input",{type:"number",value:o.vacancy,onChange:a=>p({...o,vacancy:parseInt(a.target.value)}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",min:"1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Gender"}),(0,b.jsxs)("select",{value:o.gender,onChange:a=>p({...o,gender:a.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,b.jsx)("option",{value:"Any",children:"Any"}),(0,b.jsx)("option",{value:"Male",children:"Male"}),(0,b.jsx)("option",{value:"Female",children:"Female"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Stream"}),(0,b.jsxs)("select",{value:o.stream,onChange:a=>p({...o,stream:a.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,b.jsx)("option",{value:"Any",children:"Any"}),(0,b.jsx)("option",{value:"UG",children:"UG"}),(0,b.jsx)("option",{value:"PG",children:"PG"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Year"}),(0,b.jsxs)("select",{value:o.year,onChange:a=>p({...o,year:a.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,b.jsx)("option",{value:"Any",children:"Any"}),(0,b.jsx)("option",{value:"1",children:"1st"}),(0,b.jsx)("option",{value:"2",children:"2nd"}),(0,b.jsx)("option",{value:"3",children:"3rd"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Dept (Optional)"}),(0,b.jsx)("input",{type:"text",list:"dept-list",value:o.dept,onChange:a=>p({...o,dept:a.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",placeholder:"e.g. Physics"}),(0,b.jsx)("datalist",{id:"dept-list",children:i.map(a=>(0,b.jsx)("option",{value:a},a))}),0===i.length&&(0,b.jsx)("p",{className:"text-[10px] text-orange-500 mt-1",children:"Tip: Upload Nominal Roll to auto-suggest departments."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 border-t pt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Proposer Rules"}),(0,b.jsxs)("select",{value:o.proposerReq,onChange:a=>p({...o,proposerReq:a.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,b.jsx)("option",{value:"Any",children:"Any"}),(0,b.jsx)("option",{value:"Same Dept",children:"Same Dept"}),(0,b.jsx)("option",{value:"Same Year",children:"Same Year"}),(0,b.jsx)("option",{value:"Same Stream",children:"Same Stream"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Seconder Rules"}),(0,b.jsxs)("select",{value:o.seconderReq,onChange:a=>p({...o,seconderReq:a.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,b.jsx)("option",{value:"Any",children:"Any"}),(0,b.jsx)("option",{value:"Same Dept",children:"Same Dept"}),(0,b.jsx)("option",{value:"Same Year",children:"Same Year"}),(0,b.jsx)("option",{value:"Same Stream",children:"Same Stream"})]})]})]}),(0,b.jsxs)("button",{type:"submit",disabled:k,className:`w-full py-2 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2 ${k?"bg-gray-300 cursor-not-allowed text-gray-500":"bg-black text-white hover:bg-gray-800"}`,children:[(0,b.jsx)(d.Plus,{size:18})," Add Post"]})]})]})}),(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 bg-gray-50 border-b border-gray-100 font-semibold text-gray-700",children:"Configured Positions"}),(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-white text-gray-500 font-medium border-b border-gray-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Eligibility Rule"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Relations"}),(0,b.jsx)("th",{className:"px-6 py-4 text-center",children:"Vacancies"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-gray-50",children:[a.map(c=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 font-semibold text-gray-900",children:c.name}),(0,b.jsxs)("td",{className:"px-6 py-4 text-gray-500 text-xs",children:[(0,b.jsxs)("span",{className:"block",children:["Gender: ",c.gender]}),(0,b.jsxs)("span",{className:"block",children:["Stream: ",c.stream]}),"Any"!==c.dept&&(0,b.jsxs)("span",{className:"block text-blue-600",children:["Dept: ",c.dept]})]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-gray-500 text-xs",children:[(0,b.jsxs)("span",{className:"block",children:["Prop: ",(0,b.jsx)("span",{className:"font-medium text-gray-700",children:c.proposerReq})]}),(0,b.jsxs)("span",{className:"block",children:["Sec: ",(0,b.jsx)("span",{className:"font-medium text-gray-700",children:c.seconderReq})]})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-center font-mono bg-gray-50",children:c.vacancy}),(0,b.jsx)("td",{className:"px-6 py-4 text-right",children:(0,b.jsx)("button",{onClick:()=>{var b;return b=c.id,void(!k&&h(a.filter(a=>a.id!==b)))},disabled:k,className:`p-2 rounded-full transition-colors ${k?"text-gray-300 cursor-not-allowed":"text-red-500 hover:bg-red-50"}`,children:(0,b.jsx)(e.Trash2,{size:16})})})]},c.id)),0===a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"text-center py-8 text-gray-400 italic",children:"No posts defined yet."})})]})]})]})})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=_a2d10915._.js.map
{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../app/student/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useAuth } from \"@/components/auth/AuthProvider\";\r\n\r\nexport default function StudentPortal() {\r\n    const { loginStudent, studentId, logoutStudent } = useAuth();\r\n    const [inputAdm, setInputAdm] = useState(\"\");\r\n\r\n    const handleSearch = () => {\r\n        if (inputAdm) {\r\n            loginStudent(inputAdm);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 p-6\">\r\n            <header className=\"mb-8 text-center\">\r\n                <h1 className=\"text-3xl font-bold text-gray-900\">Student Portal</h1>\r\n                <p className=\"text-gray-600\">Union Election 2025</p>\r\n                {studentId && (\r\n                    <button onClick={logoutStudent} className=\"text-red-500 text-xs hover:underline mt-2\">\r\n                        Exit Session ({studentId})\r\n                    </button>\r\n                )}\r\n            </header>\r\n\r\n            <div className=\"max-w-md mx-auto bg-white p-8 rounded-xl shadow-sm border border-gray-100 text-center space-y-6\">\r\n                {!studentId ? (\r\n                    <div>\r\n                        <h2 className=\"text-xl font-semibold mb-6\">Find Your Roll</h2>\r\n                        <div className=\"flex gap-2\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={inputAdm}\r\n                                onChange={(e) => setInputAdm(e.target.value)}\r\n                                placeholder=\"Enter Admission Number\"\r\n                                className=\"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none\"\r\n                            />\r\n                            <button\r\n                                onClick={handleSearch}\r\n                                className=\"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors\"\r\n                            >\r\n                                Search\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"animate-in fade-in zoom-in duration-300\">\r\n                        <div className=\"bg-green-50 text-green-700 p-4 rounded-lg mb-6 text-sm\">\r\n                            <strong>Welcome, Student {studentId}</strong><br />\r\n                            Access your election services below.\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            {/* Draft Roll Link */}\r\n                            <Link\r\n                                href=\"/student/nominal-roll\"\r\n                                className=\"block w-full py-3 bg-white border border-gray-300 text-gray-700 rounded-lg font-bold hover:bg-gray-50 transition-colors\"\r\n                            >\r\n                                View Draft Nominal Roll\r\n                            </Link>\r\n\r\n                            {/* Nomination Link with Access Control */}\r\n                            <NominationButton />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction NominationButton() {\r\n    const [status, setStatus] = useState<\"OPEN\" | \"CLOSED\" | \"PENDING\">(\"CLOSED\");\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const settings = JSON.parse(localStorage.getItem(\"election_settings\") || \"{}\");\r\n        const isOpen = settings.isOpen;\r\n        const now = new Date();\r\n        const start = settings.startDate ? new Date(settings.startDate) : null;\r\n        const end = settings.endDate ? new Date(settings.endDate) : null;\r\n\r\n        if (isOpen) {\r\n            setStatus(\"OPEN\");\r\n            return;\r\n        }\r\n\r\n        if (start && now < start) {\r\n            setStatus(\"PENDING\");\r\n            setMessage(`Opens on ${start.toLocaleString()}`);\r\n            return;\r\n        }\r\n\r\n        if (end && now > end) {\r\n            setStatus(\"CLOSED\");\r\n            setMessage(\"Nominations Closed\");\r\n            return;\r\n        }\r\n\r\n        if (start && end && now >= start && now <= end) {\r\n            setStatus(\"OPEN\");\r\n            return;\r\n        }\r\n\r\n        setStatus(\"CLOSED\");\r\n        setMessage(\"Nominations are currently closed.\");\r\n    }, []);\r\n\r\n    if (status === \"OPEN\") {\r\n        return (\r\n            <Link\r\n                href=\"/student/nomination\"\r\n                className=\"block w-full py-3 bg-black text-white rounded-lg font-bold hover:bg-gray-800 transition-colors\"\r\n            >\r\n                File Nomination Now\r\n            </Link>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <button disabled className=\"block w-full py-3 bg-gray-100 text-gray-400 rounded-lg font-bold cursor-not-allowed\">\r\n            File Nomination ({status === \"PENDING\" ? \"Opening Soon\" : \"Closed\"})\r\n            <div className=\"text-xs font-normal mt-1\">{message}</div>\r\n        </button>\r\n    );\r\n}\r\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0]}
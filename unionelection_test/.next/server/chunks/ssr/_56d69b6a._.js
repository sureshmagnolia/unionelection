module.exports=[92e3,a=>{"use strict";let b=(0,a.i(70106).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},71931,a=>{"use strict";let b=(0,a.i(70106).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);a.s(["Printer",()=>b],71931)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},78929,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70106);let e=(0,d.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),f=(0,d.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var g=a.i(71931),h=a.i(15618),i=a.i(33508),j=a.i(92e3);function k(){let[a,d]=(0,c.useState)([]),[k,l]=(0,c.useState)("Pending"),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)({candidateAdm:"",proposerAdm:"",seconderAdm:"",postName:""}),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(null);(0,c.useEffect)(()=>{let a=JSON.parse(localStorage.getItem("student_nominations")||"[]"),b=JSON.parse(localStorage.getItem("election_posts")||"[]"),c=JSON.parse(localStorage.getItem("nominalRoll_students")||"[]");d(a),n(b),p(c)},[]),(0,c.useEffect)(()=>{(a.length>0||localStorage.getItem("student_nominations"))&&localStorage.setItem("student_nominations",JSON.stringify(a))},[a]);let y=(a,b,c,d=null)=>{let e=[];if(!a)return[`${c} not found in Nominal Roll`];if(d){let f="Proposer"===c?b.proposerReq||"Any":b.seconderReq||"Any";"Same Dept"===f&&a.dept!==d.dept&&e.push(`${c} must be from same Dept as Candidate`),"Same Year"===f&&a.year!==d.year&&e.push(`${c} must be from same Year as Candidate`),"Same Stream"===f&&a.stream!==d.stream&&e.push(`${c} must be from same Stream as Candidate`)}return"Candidate"===c&&("Any"!==b.gender&&a.gender!==b.gender&&e.push(`${c} must be ${b.gender}`),"Any"!==b.stream&&a.stream!==b.stream&&e.push(`${c} must be ${b.stream}`),"Any"!==b.year&&a.year!==b.year&&e.push(`${c} must be Year ${b.year}`),b.dept&&"Any"!==b.dept&&a.dept!==b.dept&&e.push(`${c} must be in ${b.dept}`)),e},z=(b,c)=>{d(a.map(a=>a.id===b?{...a,status:c}:a))},A=a.filter(a=>a.status===k);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("header",{className:"flex justify-between items-center bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Nomination Scrutiny"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Review and approve candidate nominations"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[(0,b.jsx)(h.Plus,{size:18})," Add Nomination"]}),(0,b.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition-colors",onClick:()=>window.print(),children:[(0,b.jsx)(g.Printer,{size:18})," Print Valid List"]})]})]}),(0,b.jsx)("div",{className:"flex gap-4 border-b border-gray-200",children:["Pending","Accepted","Rejected"].map(c=>(0,b.jsxs)("button",{onClick:()=>l(c),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${k===c?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[c," (",a.filter(a=>a.status===c).length,")"]},c))}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print-section",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-50 text-gray-700 font-semibold uppercase text-xs",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4",children:"Serial"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Candidate & Post"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Proposer / Seconder"}),(0,b.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[A.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50/50",children:[(0,b.jsxs)("td",{className:"px-6 py-4 font-mono text-gray-500",children:["#",c+1]}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"font-bold text-gray-900",children:a.candidateName}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["ID: ",a.studentId]}),(0,b.jsx)("div",{className:"text-xs text-blue-600 font-semibold uppercase mt-1",children:a.post})]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-gray-500 text-xs space-y-1",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:"P:"})," ",a.proposer||"-"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-semibold text-gray-700",children:"S:"})," ",a.seconder||"-"]})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"Accepted"===a.status?"bg-green-100 text-green-700":"Rejected"===a.status?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:a.status})}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right space-x-2",children:["Pending"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>z(a.id,"Accepted"),className:"text-green-600 hover:bg-green-50 p-2 rounded-lg transition-colors",title:"Accept",children:(0,b.jsx)(e,{size:20})}),(0,b.jsx)("button",{onClick:()=>z(a.id,"Rejected"),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Reject",children:(0,b.jsx)(f,{size:20})})]}),"Pending"!==a.status&&(0,b.jsx)("button",{onClick:()=>z(a.id,"Pending"),className:"text-xs underline text-gray-400 hover:text-blue-600",children:"Reset"})]})]},a.id)),0===A.length&&(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:5,className:"text-center py-12 text-gray-400",children:["No ",k.toLowerCase()," nominations found."]})})]})]})}),(0,b.jsxs)("div",{className:"hidden print-block",children:[(0,b.jsx)("h1",{className:"text-center text-xl font-bold uppercase underline mb-6",children:"List of Valid Nominations"}),(0,b.jsxs)("table",{className:"w-full border-collapse border border-black text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"border border-black p-2",children:"Post"}),(0,b.jsx)("th",{className:"border border-black p-2",children:"Candidate Name"}),(0,b.jsx)("th",{className:"border border-black p-2",children:"Admission No"})]})}),(0,b.jsx)("tbody",{children:a.filter(a=>"Accepted"===a.status).map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border border-black p-2",children:a.post}),(0,b.jsx)("td",{className:"border border-black p-2 uppercase",children:a.candidateName}),(0,b.jsx)("td",{className:"border border-black p-2",children:a.studentId})]},a.id))})]})]}),q&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b flex justify-between items-center bg-gray-50",children:[(0,b.jsx)("h3",{className:"font-bold text-lg",children:"Add Manual Nomination"}),(0,b.jsx)("button",{onClick:()=>r(!1),children:(0,b.jsx)(i.X,{size:20,className:"text-gray-400 hover:text-gray-600"})})]}),(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault(),v([]);let c=o.find(a=>a.admNo===s.candidateAdm),e=o.find(a=>a.admNo===s.proposerAdm),f=o.find(a=>a.admNo===s.seconderAdm),g=m.find(a=>a.name===s.postName),h=[];if(!g){h.push("Please select a post"),v(h);return}(c||h.push("Candidate not found"),e||h.push("Proposer not found"),f||h.push("Seconder not found"),c&&e&&f&&(c.admNo===e.admNo&&h.push("Candidate cannot be Proposer"),c.admNo===f.admNo&&h.push("Candidate cannot be Seconder"),e.admNo===f.admNo&&h.push("Proposer and Seconder cannot be same"),h.push(...y(c,g,"Candidate")),h.push(...y(e,g,"Proposer",c)),h.push(...y(f,g,"Seconder",c))),h.length>0)?v(h):(d([...a,{id:Date.now().toString(),studentId:c.admNo,candidateName:c.name,post:g.name,status:"Accepted",proposer:e.name,seconder:f.name,submittedAt:new Date().toISOString()}]),r(!1),t({candidateAdm:"",proposerAdm:"",seconderAdm:"",postName:""}),alert("Nomination Added Successfully!"))},className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Post"}),(0,b.jsxs)("select",{className:"w-full p-2 border rounded",value:s.postName,onChange:a=>t({...s,postName:a.target.value}),required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select Post"}),m.map(a=>(0,b.jsx)("option",{value:a.name,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Candidate AdmNo"}),(0,b.jsx)("input",{className:"w-full p-2 border rounded",required:!0,value:s.candidateAdm,onChange:a=>t({...s,candidateAdm:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Proposer AdmNo"}),(0,b.jsx)("input",{className:"w-full p-2 border rounded",required:!0,value:s.proposerAdm,onChange:a=>t({...s,proposerAdm:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Seconder AdmNo"}),(0,b.jsx)("input",{className:"w-full p-2 border rounded",required:!0,value:s.seconderAdm,onChange:a=>t({...s,seconderAdm:a.target.value})})]})]}),u.length>0&&(0,b.jsxs)("div",{className:"p-3 bg-red-50 text-red-600 text-xs rounded space-y-1 border border-red-100",children:[(0,b.jsxs)("div",{className:"font-bold flex items-center gap-1",children:[(0,b.jsx)(j.AlertCircle,{size:12})," validation Failed"]}),(0,b.jsx)("ul",{className:"list-disc list-inside",children:u.map((a,c)=>(0,b.jsx)("li",{children:a},c))})]}),(0,b.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700",children:"Validate & Add"})]})]})})]})}a.s(["default",()=>k],78929)}];

//# sourceMappingURL=_56d69b6a._.js.map
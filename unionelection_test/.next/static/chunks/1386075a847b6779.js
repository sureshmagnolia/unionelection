(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70756,e=>{"use strict";let s=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>s],70756)},7233,e=>{"use strict";let s=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},27612,e=>{"use strict";let s=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],27612)},86640,e=>{"use strict";let s=(0,e.i(75254).default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);e.s(["Unlock",()=>s],86640)},95055,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(7233),r=e.i(27612),l=e.i(70756),n=e.i(86640);function o(){let[e,o]=(0,t.useState)([]),[d,i]=(0,t.useState)([]),[c,x]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=localStorage.getItem("election_posts"),s=localStorage.getItem("election_posts_isLocked"),t=JSON.parse(localStorage.getItem("nominalRoll_students")||"[]"),a=new Set;t.forEach(e=>{e.dept&&"-"!==e.dept&&a.add(e.dept)});let r=Array.from(a).sort();if(console.log(`Debug: Found ${t.length} students. Extracted Depts:`,r),i(r),"true"===s&&x(!0),e)o(JSON.parse(e));else{let e=[{id:"1",name:"The Chairperson",vacancy:1,gender:"Any",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"},{id:"2",name:"The Vice Chairperson",vacancy:1,gender:"Female",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"},{id:"3",name:"The General Secretary",vacancy:1,gender:"Any",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"}];o(e),localStorage.setItem("election_posts",JSON.stringify(e))}m(!0)},[]),(0,t.useEffect)(()=>{p&&(e.length>0&&localStorage.setItem("election_posts",JSON.stringify(e)),localStorage.setItem("election_posts_isLocked",String(c)))},[e,c,p]);let[h,y]=(0,t.useState)({name:"",vacancy:1,gender:"Any",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"});return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("header",{className:"flex justify-between items-center bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Election Posts"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Define positions and eligibility logic"})]}),(0,s.jsx)("button",{onClick:()=>x(!c),className:`flex items-center gap-2 px-6 py-2 rounded-lg font-bold text-sm transition-colors ${c?"bg-red-50 text-red-600 hover:bg-red-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Lock,{size:16})," Locked (Published)"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Unlock,{size:16})," Draft Mode"]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 sticky top-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-800 mb-4 border-b pb-2",children:"Add New Post"}),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),c||h.name&&(o([...e,{...h,id:Date.now().toString()}]),y({name:"",vacancy:1,gender:"Any",stream:"Any",year:"Any",dept:"Any",proposerReq:"Any",seconderReq:"Any"}))},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Position Name"}),(0,s.jsx)("input",{type:"text",value:h.name,onChange:e=>y({...h,name:e.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"e.g. Arts Club Secretary",required:!0})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Vacancies"}),(0,s.jsx)("input",{type:"number",value:h.vacancy,onChange:e=>y({...h,vacancy:parseInt(e.target.value)}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",min:"1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Gender"}),(0,s.jsxs)("select",{value:h.gender,onChange:e=>y({...h,gender:e.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,s.jsx)("option",{value:"Any",children:"Any"}),(0,s.jsx)("option",{value:"Male",children:"Male"}),(0,s.jsx)("option",{value:"Female",children:"Female"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Stream"}),(0,s.jsxs)("select",{value:h.stream,onChange:e=>y({...h,stream:e.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,s.jsx)("option",{value:"Any",children:"Any"}),(0,s.jsx)("option",{value:"UG",children:"UG"}),(0,s.jsx)("option",{value:"PG",children:"PG"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Year"}),(0,s.jsxs)("select",{value:h.year,onChange:e=>y({...h,year:e.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,s.jsx)("option",{value:"Any",children:"Any"}),(0,s.jsx)("option",{value:"1",children:"1st"}),(0,s.jsx)("option",{value:"2",children:"2nd"}),(0,s.jsx)("option",{value:"3",children:"3rd"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Dept (Optional)"}),(0,s.jsx)("input",{type:"text",list:"dept-list",value:h.dept,onChange:e=>y({...h,dept:e.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",placeholder:"e.g. Physics"}),(0,s.jsx)("datalist",{id:"dept-list",children:d.map(e=>(0,s.jsx)("option",{value:e},e))}),0===d.length&&(0,s.jsx)("p",{className:"text-[10px] text-orange-500 mt-1",children:"Tip: Upload Nominal Roll to auto-suggest departments."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 border-t pt-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Proposer Rules"}),(0,s.jsxs)("select",{value:h.proposerReq,onChange:e=>y({...h,proposerReq:e.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,s.jsx)("option",{value:"Any",children:"Any"}),(0,s.jsx)("option",{value:"Same Dept",children:"Same Dept"}),(0,s.jsx)("option",{value:"Same Year",children:"Same Year"}),(0,s.jsx)("option",{value:"Same Stream",children:"Same Stream"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-600 uppercase mb-1",children:"Seconder Rules"}),(0,s.jsxs)("select",{value:h.seconderReq,onChange:e=>y({...h,seconderReq:e.target.value}),className:"w-full p-2 border border-gray-200 rounded text-sm outline-none",children:[(0,s.jsx)("option",{value:"Any",children:"Any"}),(0,s.jsx)("option",{value:"Same Dept",children:"Same Dept"}),(0,s.jsx)("option",{value:"Same Year",children:"Same Year"}),(0,s.jsx)("option",{value:"Same Stream",children:"Same Stream"})]})]})]}),(0,s.jsxs)("button",{type:"submit",disabled:c,className:`w-full py-2 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2 ${c?"bg-gray-300 cursor-not-allowed text-gray-500":"bg-black text-white hover:bg-gray-800"}`,children:[(0,s.jsx)(a.Plus,{size:18})," Add Post"]})]})]})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,s.jsx)("div",{className:"p-4 bg-gray-50 border-b border-gray-100 font-semibold text-gray-700",children:"Configured Positions"}),(0,s.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,s.jsx)("thead",{className:"bg-white text-gray-500 font-medium border-b border-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Eligibility Rule"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Relations"}),(0,s.jsx)("th",{className:"px-6 py-4 text-center",children:"Vacancies"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-gray-50",children:[e.map(t=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 font-semibold text-gray-900",children:t.name}),(0,s.jsxs)("td",{className:"px-6 py-4 text-gray-500 text-xs",children:[(0,s.jsxs)("span",{className:"block",children:["Gender: ",t.gender]}),(0,s.jsxs)("span",{className:"block",children:["Stream: ",t.stream]}),"Any"!==t.dept&&(0,s.jsxs)("span",{className:"block text-blue-600",children:["Dept: ",t.dept]})]}),(0,s.jsxs)("td",{className:"px-6 py-4 text-gray-500 text-xs",children:[(0,s.jsxs)("span",{className:"block",children:["Prop: ",(0,s.jsx)("span",{className:"font-medium text-gray-700",children:t.proposerReq})]}),(0,s.jsxs)("span",{className:"block",children:["Sec: ",(0,s.jsx)("span",{className:"font-medium text-gray-700",children:t.seconderReq})]})]}),(0,s.jsx)("td",{className:"px-6 py-4 text-center font-mono bg-gray-50",children:t.vacancy}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsx)("button",{onClick:()=>{var s;return s=t.id,void(!c&&o(e.filter(e=>e.id!==s)))},disabled:c,className:`p-2 rounded-full transition-colors ${c?"text-gray-300 cursor-not-allowed":"text-red-500 hover:bg-red-50"}`,children:(0,s.jsx)(r.Trash2,{size:16})})})]},t.id)),0===e.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"text-center py-8 text-gray-400 italic",children:"No posts defined yet."})})]})]})]})})]})]})}e.s(["default",()=>o])}]);
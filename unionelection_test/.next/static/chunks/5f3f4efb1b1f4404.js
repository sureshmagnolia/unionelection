(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},3281,e=>{"use strict";let t=(0,e.i(75254).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],3281)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},88117,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75254);let d=(0,a.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),r=(0,a.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var l=e.i(3281),n=e.i(7233),i=e.i(37727),o=e.i(63209);function c(){let[e,a]=(0,s.useState)([]),[c,m]=(0,s.useState)("Pending"),[x,p]=(0,s.useState)([]),[u,h]=(0,s.useState)([]),[b,g]=(0,s.useState)(!1),[y,N]=(0,s.useState)({candidateAdm:"",proposerAdm:"",seconderAdm:"",postName:""}),[j,f]=(0,s.useState)([]),[v,A]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("student_nominations")||"[]"),t=JSON.parse(localStorage.getItem("election_posts")||"[]"),s=JSON.parse(localStorage.getItem("nominalRoll_students")||"[]");a(e),p(t),h(s)},[]),(0,s.useEffect)(()=>{(e.length>0||localStorage.getItem("student_nominations"))&&localStorage.setItem("student_nominations",JSON.stringify(e))},[e]);let S=(e,t,s,a=null)=>{let d=[];if(!e)return[`${s} not found in Nominal Roll`];if(a){let r="Proposer"===s?t.proposerReq||"Any":t.seconderReq||"Any";"Same Dept"===r&&e.dept!==a.dept&&d.push(`${s} must be from same Dept as Candidate`),"Same Year"===r&&e.year!==a.year&&d.push(`${s} must be from same Year as Candidate`),"Same Stream"===r&&e.stream!==a.stream&&d.push(`${s} must be from same Stream as Candidate`)}return"Candidate"===s&&("Any"!==t.gender&&e.gender!==t.gender&&d.push(`${s} must be ${t.gender}`),"Any"!==t.stream&&e.stream!==t.stream&&d.push(`${s} must be ${t.stream}`),"Any"!==t.year&&e.year!==t.year&&d.push(`${s} must be Year ${t.year}`),t.dept&&"Any"!==t.dept&&e.dept!==t.dept&&d.push(`${s} must be in ${t.dept}`)),d},k=(t,s)=>{a(e.map(e=>e.id===t?{...e,status:s}:e))},w=e.filter(e=>e.status===c);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("header",{className:"flex justify-between items-center bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Nomination Scrutiny"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Review and approve candidate nominations"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[(0,t.jsx)(n.Plus,{size:18})," Add Nomination"]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition-colors",onClick:()=>window.print(),children:[(0,t.jsx)(l.Printer,{size:18})," Print Valid List"]})]})]}),(0,t.jsx)("div",{className:"flex gap-4 border-b border-gray-200",children:["Pending","Accepted","Rejected"].map(s=>(0,t.jsxs)("button",{onClick:()=>m(s),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${c===s?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s," (",e.filter(e=>e.status===s).length,")"]},s))}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden no-print-section",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,t.jsx)("thead",{className:"bg-gray-50 text-gray-700 font-semibold uppercase text-xs",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Serial"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Candidate & Post"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Proposer / Seconder"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[w.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50/50",children:[(0,t.jsxs)("td",{className:"px-6 py-4 font-mono text-gray-500",children:["#",s+1]}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"font-bold text-gray-900",children:e.candidateName}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["ID: ",e.studentId]}),(0,t.jsx)("div",{className:"text-xs text-blue-600 font-semibold uppercase mt-1",children:e.post})]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-gray-500 text-xs space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:"P:"})," ",e.proposer||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-semibold text-gray-700",children:"S:"})," ",e.seconder||"-"]})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold ${"Accepted"===e.status?"bg-green-100 text-green-700":"Rejected"===e.status?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:e.status})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right space-x-2",children:["Pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>k(e.id,"Accepted"),className:"text-green-600 hover:bg-green-50 p-2 rounded-lg transition-colors",title:"Accept",children:(0,t.jsx)(d,{size:20})}),(0,t.jsx)("button",{onClick:()=>k(e.id,"Rejected"),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Reject",children:(0,t.jsx)(r,{size:20})})]}),"Pending"!==e.status&&(0,t.jsx)("button",{onClick:()=>k(e.id,"Pending"),className:"text-xs underline text-gray-400 hover:text-blue-600",children:"Reset"})]})]},e.id)),0===w.length&&(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:5,className:"text-center py-12 text-gray-400",children:["No ",c.toLowerCase()," nominations found."]})})]})]})}),(0,t.jsxs)("div",{className:"hidden print-block",children:[(0,t.jsx)("h1",{className:"text-center text-xl font-bold uppercase underline mb-6",children:"List of Valid Nominations"}),(0,t.jsxs)("table",{className:"w-full border-collapse border border-black text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border border-black p-2",children:"Post"}),(0,t.jsx)("th",{className:"border border-black p-2",children:"Candidate Name"}),(0,t.jsx)("th",{className:"border border-black p-2",children:"Admission No"})]})}),(0,t.jsx)("tbody",{children:e.filter(e=>"Accepted"===e.status).map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border border-black p-2",children:e.post}),(0,t.jsx)("td",{className:"border border-black p-2 uppercase",children:e.candidateName}),(0,t.jsx)("td",{className:"border border-black p-2",children:e.studentId})]},e.id))})]})]}),b&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b flex justify-between items-center bg-gray-50",children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"Add Manual Nomination"}),(0,t.jsx)("button",{onClick:()=>g(!1),children:(0,t.jsx)(i.X,{size:20,className:"text-gray-400 hover:text-gray-600"})})]}),(0,t.jsxs)("form",{onSubmit:t=>{t.preventDefault(),f([]);let s=u.find(e=>e.admNo===y.candidateAdm),d=u.find(e=>e.admNo===y.proposerAdm),r=u.find(e=>e.admNo===y.seconderAdm),l=x.find(e=>e.name===y.postName),n=[];if(!l){n.push("Please select a post"),f(n);return}(s||n.push("Candidate not found"),d||n.push("Proposer not found"),r||n.push("Seconder not found"),s&&d&&r&&(s.admNo===d.admNo&&n.push("Candidate cannot be Proposer"),s.admNo===r.admNo&&n.push("Candidate cannot be Seconder"),d.admNo===r.admNo&&n.push("Proposer and Seconder cannot be same"),n.push(...S(s,l,"Candidate")),n.push(...S(d,l,"Proposer",s)),n.push(...S(r,l,"Seconder",s))),n.length>0)?f(n):(a([...e,{id:Date.now().toString(),studentId:s.admNo,candidateName:s.name,post:l.name,status:"Accepted",proposer:d.name,seconder:r.name,submittedAt:new Date().toISOString()}]),g(!1),N({candidateAdm:"",proposerAdm:"",seconderAdm:"",postName:""}),alert("Nomination Added Successfully!"))},className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Post"}),(0,t.jsxs)("select",{className:"w-full p-2 border rounded",value:y.postName,onChange:e=>N({...y,postName:e.target.value}),required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Post"}),x.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Candidate AdmNo"}),(0,t.jsx)("input",{className:"w-full p-2 border rounded",required:!0,value:y.candidateAdm,onChange:e=>N({...y,candidateAdm:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Proposer AdmNo"}),(0,t.jsx)("input",{className:"w-full p-2 border rounded",required:!0,value:y.proposerAdm,onChange:e=>N({...y,proposerAdm:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Seconder AdmNo"}),(0,t.jsx)("input",{className:"w-full p-2 border rounded",required:!0,value:y.seconderAdm,onChange:e=>N({...y,seconderAdm:e.target.value})})]})]}),j.length>0&&(0,t.jsxs)("div",{className:"p-3 bg-red-50 text-red-600 text-xs rounded space-y-1 border border-red-100",children:[(0,t.jsxs)("div",{className:"font-bold flex items-center gap-1",children:[(0,t.jsx)(o.AlertCircle,{size:12})," validation Failed"]}),(0,t.jsx)("ul",{className:"list-disc list-inside",children:j.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]}),(0,t.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded font-bold hover:bg-blue-700",children:"Validate & Add"})]})]})})]})}e.s(["default",()=>c],88117)}]);